<head th:replace="~{ base::head }"></head>
<body>
    <header th:replace="~{ base::header }"></header>
    <main class="meus-anuncios-wrapper border border-success rounded container p-3 my-2 text-center" th:fragment="lista-anuncios(anuncios)">
        <form class="form-group mb-3" th:action="@{/anuncios/} + ${anuncio.id} + @{/edit}" method="post">
        <section class="container p-3">
            <h3 class="h3">Detalhes do anúncio</h3>
                <div class="d-flex align-items-center mx-auto w-30 p-2">
                    <label for="titulo">Título:</label>
                    <input class="form-control ms-2" type="text" th:value="${anuncio.nome}"  name="nome" style="width: 50%;">
                    <div class="d-flex align-items-center mx-auto p-2" style="width: 50%;">
                        <label for="valor">Valor:</label>
                        <div class="input-group ms-2">
                            <span class="input-group-text">R$</span>
                            <input class="form-control" type="number" th:value="${anuncio.valor}"  name="valor">
                        </div>
                    </div>
                </div>
                <div class="d-flex flex-column align-items-start mx-auto w-30 p-2 py-0">
                    <label for="descricao">Descrição:</label>
                    <textarea class="form-control anuncio-descricao-campo" type="text" th:text="${anuncio.descricao}" name="descricao"></textarea>
                </div>
                <input type="hidden" th:value="${anuncio.usuario.id}" name="usuario">
                <h3 class="h3 mt-3">Galeria</h3>
                <div id="galeria-container" class="d-flex flex-wrap">
                    <div class="anuncio-imagem-thumbnail-wrapper" th:each="foto : ${anuncio.fotos}">
                        <button th:id="'btn-' + ${foto.foto.id}" class="btn btn-close editar-anuncio-imagem-apagar-btn"></button>
                        <img th:id="${foto.foto.id}" class="anuncio-imagem-thumbnail ms-2" th:src="${foto.foto.path}" th:alt="${foto.foto.nome}">
                    </div>
                    <div id="upload-wrapper" class="d-flex text-center p-2 px-4 ms-4 align-items-center editar-anuncio-upload-wrapper">
                        <label class="d-flex flex-column mx-auto align-items-center" for="editar-anuncio-upload-input">
                            <i id="editar-anuncio-upload-icon" class="bi bi-plus-circle text-success"></i>
                            <span class="text-success">Adicionar</span>
                        </label>
                        <input type="file" id="editar-anuncio-upload-input" name="img-upload" style="position: absolute; visibility: hidden;" accept="images/*" >
                    </div>
                </div>
            </section>
            <input type="hidden" id="editar-anuncio-thumbnail" name="thumbnail" style="position: absolute; visibility: hidden;" accept="images/*" >
            <button type="submit" class="btn btn-success">Salvar</button>
        </form>
    </main>
    <script type="text/javascript" th:src="@{/js/editar-anuncio.js}" ></script>
</body>
<footer th:replace="~{ base::footer }"></footer>